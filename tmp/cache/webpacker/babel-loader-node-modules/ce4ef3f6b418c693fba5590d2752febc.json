{"ast":null,"code":"import consumer from \"./consumer\";\n$(document).on('turbolinks:load', function () {\n  $('[data-channel-subscribe=\"order\"]').each(function (index, element) {\n    var $element = $(element),\n        $chatList = $('#comment-list'),\n        $form = $('#new-comment'),\n        order_id = $element.data('order-id');\n    consumer.subscriptions.create({\n      channel: \"CommentChannel\",\n      order: order_id\n    }, {\n      received: function received(data) {\n        console.log(data.message);\n        $chatList.append(data.message);\n        $form[0].reset();\n        $chatList.animate({\n          scrollTop: $chatList.prop(\"scrollHeight\")\n        }, 1000);\n      }\n    });\n  });\n});","map":{"version":3,"sources":["/Users/shahinfarzane/Desktop/NewProject/app/javascript/channels/comment_channel.js"],"names":["consumer","$","document","on","each","index","element","$element","$chatList","$form","order_id","data","subscriptions","create","channel","order","received","console","log","message","append","reset","animate","scrollTop","prop"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;AAEAC,CAAC,CAACC,QAAD,CAAD,CAAYC,EAAZ,CAAe,iBAAf,EAAkC,YAAM;AACtCF,EAAAA,CAAC,CAAC,kCAAD,CAAD,CAAsCG,IAAtC,CAA2C,UAASC,KAAT,EAAgBC,OAAhB,EAAyB;AAChE,QAAIC,QAAQ,GAAGN,CAAC,CAACK,OAAD,CAAhB;AAAA,QACIE,SAAS,GAAGP,CAAC,CAAC,eAAD,CADjB;AAAA,QAEIQ,KAAK,GAAGR,CAAC,CAAC,cAAD,CAFb;AAAA,QAGIS,QAAQ,GAAGH,QAAQ,CAACI,IAAT,CAAc,UAAd,CAHf;AAKAX,IAAAA,QAAQ,CAACY,aAAT,CAAuBC,MAAvB,CACI;AACIC,MAAAA,OAAO,EAAE,gBADb;AAEIC,MAAAA,KAAK,EAAEL;AAFX,KADJ,EAKI;AACIM,MAAAA,QAAQ,EAAE,kBAASL,IAAT,EAAe;AACrBM,QAAAA,OAAO,CAACC,GAAR,CAAYP,IAAI,CAACQ,OAAjB;AACAX,QAAAA,SAAS,CAACY,MAAV,CAAiBT,IAAI,CAACQ,OAAtB;AAEAV,QAAAA,KAAK,CAAC,CAAD,CAAL,CAASY,KAAT;AACAb,QAAAA,SAAS,CAACc,OAAV,CAAkB;AAAEC,UAAAA,SAAS,EAAEf,SAAS,CAACgB,IAAV,CAAe,cAAf;AAAb,SAAlB,EAAiE,IAAjE;AACH;AAPL,KALJ;AAeH,GArBD;AAsBD,CAvBD","sourcesContent":["import consumer from \"./consumer\"\n\n$(document).on('turbolinks:load', () => {\n  $('[data-channel-subscribe=\"order\"]').each(function(index, element) {\n      var $element = $(element),\n          $chatList = $('#comment-list'),\n          $form = $('#new-comment'),\n          order_id = $element.data('order-id')\n\n      consumer.subscriptions.create(\n          {\n              channel: \"CommentChannel\",\n              order: order_id\n          },\n          {\n              received: function(data) {\n                  console.log(data.message)\n                  $chatList.append(data.message)\n\n                  $form[0].reset();\n                  $chatList.animate({ scrollTop: $chatList.prop(\"scrollHeight\") }, 1000)\n              }\n          }\n      )\n  });\n});\n"]},"metadata":{},"sourceType":"module"}